query search(
  $id: ID
  $limit: Int = 20
  $page: Int = 1
  $keyword: String = ""
<% attributes.forEach((attr) => { -%>
  $<%= attr.name %>: String
<% }); -%>
) {
  <%= modelNamePlural %>: records(
    per_page: $limit
    page: $page
    filter: {
      id: { value: $id }
      table: { value: "<%= config.graphqlTablePath %><%= modelName %>" }
      fulltext: {keyword: $keyword, match_type: CONTAINS}
      properties: [
      <% attributes.forEach((attr) => { -%>
        { name: "<%= attr.name %>" value: $<%= attr.name %> }
      <% }); -%>
      ]
    }
    sort: [
      { created_at: { order: DESC }}
    ]
  ){
    total_entries
    total_pages
    current_page
    results {
      id
      created_at
      type: table

    <% attributes.forEach((attr) => { -%>
      <%_ if (graphqlPropertyMap[attr.type] != "property_upload"){ _%>
      <%= attr.name %>: <%= graphqlPropertyMap[attr.type] %>(name: "<%= attr.name %>")
      <%_ } else { _%>
      <%= attr.name %>: <%= graphqlPropertyMap[attr.type] %>(name: "<%= attr.name %>") {url}
      <%_ }; _%>
    <% }); -%>
    }
  }
}
